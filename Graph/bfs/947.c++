#include <bits/stdc++.h>
using namespace std;

int removeStones(vector<vector<int>>& stones) {
    int row=INT_MIN,col=INT_MIN,res=0;
    int n=stones.size();
    for(int i=0;i<n;i++){
        row=max(row,stones[i][0]);
        col=max(col,stones[i][1]);
    }
    vector<set<int>> horizontal(row+1);
    vector<set<int>> verticle(col+1);
    for(int i=0;i<stones.size();i++){
        horizontal[stones[i][0]].insert(i);
        verticle[stones[i][1]].insert(i);
    }  
    vector<int> visited(n+1,0);
    for(int i=0;i<n;i++){
        int r=stones[i][0],c=stones[i][1];
        if(visited[i]==0){
            int connected=1;
            queue<pair<int,int>> q;
            q.push({r,c});
            visited[i]=1;
            while(!q.empty()){
                int fr=q.front().first;
                int fc=q.front().second;
                q.pop();
                for(int s:horizontal[fr]){
                    if(visited[s]==0){
                        visited[s]=1;
                        connected++;
                        q.push({stones[s][0],stones[s][1]});
                    }
                }
                for(int s:verticle[fc]){
                    if(visited[s]==0){
                        visited[s]=1;
                        connected++;
                        q.push({stones[s][0],stones[s][1]});
                    }
                }
            }
            res+=connected-1;
        }
    }  
    return res;
}

int main(){
    vector<vector<int>> testcase = {{5076,7927},{8023,1129},{7694,4707},{4578,3943},{8181,1593},{943,1549},{5904,9966},{1530,596},{8712,9815},{3590,6390},{3008,2142},{5136,4115},{6161,4401},{8431,7404},{7801,133},{8831,955},{9021,4311},{1930,1697},{9407,8597},{7167,5545},{5039,960},{9796,3982},{3476,7979},{8497,4543},{7613,7756},{5274,267},{1950,2834},{930,9224},{6841,5107},{2519,6210},{4344,8644},{2692,1579},{2579,9545},{2616,7297},{8536,3498},{5981,5328},{7568,2444},{3419,1975},{1573,2820},{5042,7011},{6612,2740},{6400,8615},{7933,663},{9603,3727},{5893,1780},{665,7522},{3079,1494},{2778,4882},{4602,2095},{629,3513},{1067,6371},{4384,41},{8730,9773},{3723,9073},{2218,7886},{998,8658},{9534,951},{5474,5460},{4451,2069},{7259,2411},{3136,8744},{4676,3689},{2209,1591},{3864,3131},{6003,2885},{5006,2037},{2512,7059},{5167,250},{3990,3774},{6037,9216},{5294,2087},{7368,2463},{5899,5787},{3851,7157},{3078,7259},{5771,7771},{6881,4002},{9079,1886},{3040,1952},{9418,9099},{6161,544},{3747,65},{37,5401},{7555,1071},{3983,6871},{6670,2110},{2279,2662},{6928,7517},{8235,3958},{2977,6130},{6415,8247},{9707,297},{2241,206},{8846,2843},{8165,4629},{9877,4525},{1646,8746},{3164,6206},{9341,6998},{2040,3918},{4954,6923},{1817,2466},{5485,2101},{7228,2622},{8155,1197},{7105,4137},{9516,5943},{8237,447},{5467,9039},{6375,5177},{8627,4309},{3966,6715},{5974,3924},{4761,3824},{9509,3231},{3584,8728},{8064,2288},{5072,3194},{5220,2265},{6547,5291},{3299,1003},{2170,2591},{4071,2853},{9421,4733},{6050,8592},{1652,4344},{6420,1012},{5802,7669},{2745,3916},{8934,5923},{2750,6379},{1422,2444},{5798,310},{7418,1388},{5086,9581},{5544,7076},{9327,4949},{2010,7945},{4765,6466},{1625,5999},{51,7937},{3859,7570},{7364,1404},{9120,3732},{8067,7489},{2752,8940},{2781,4865},{6662,589},{4859,4133},{6303,7989},{3575,1956},{6328,9384},{1561,2117},{9768,5182},{8909,2012},{1103,9671},{5336,5815},{559,848},{4098,8977},{2271,1810},{2845,8212},{999,4030},{3262,8741},{2931,8615},{9250,4847},{4635,4605},{9455,5658},{7736,6310},{8960,7608},{1180,1954},{6283,6765},{2436,6865},{319,2127},{3009,745},{6076,7917},{6083,814},{2752,5866},{4864,3328},{784,7973},{638,5038},{3864,1328},{6465,2449},{8133,406},{2738,715},{984,9618},{4579,7350},{7240,6732},{7693,5476},{7171,7079},{2196,1663},{7595,9648},{6670,633},{6269,1354},{8099,7147},{8541,9047},{6976,3080},{3513,371},{2638,6176},{4936,177},{9470,6596},{82,9633},{5236,5528},{239,500},{7811,5738},{4263,5912},{5730,6753},{9139,204},{249,4328},{65,9497},{9964,2547},{8166,7801},{6192,3358},{2434,644},{9915,2382},{8577,6},{4356,5270},{3309,510},{5019,6115},{1092,4109},{2353,5929},{2753,140},{9320,6378},{4344,9761},{1785,9365},{1315,1861},{72,9976},{7294,399},{7508,3926},{648,8703},{1114,7682},{2139,2407},{6066,777},{730,9677},{4378,966},{4314,5657},{7255,4516},{9016,3965},{9827,3939},{7846,7680},{2202,894},{3654,7475},{6886,894},{1472,2512},{2219,3026},{4888,3412},{8133,350},{9109,1019},{3031,8087},{7220,2336},{8359,7621},{3316,422},{1808,4180},{7590,2830},{4963,1346},{1019,4141},{5544,1641},{617,6333},{356,9987},{9793,4687},{8940,2426},{3201,2510},{1411,479},{3967,3160},{3442,7218},{6145,1213},{2440,6939},{1115,3197},{59,1007},{9912,8080},{1297,403},{2163,7171},{8882,5778},{8027,4873},{9774,3261},{1951,7388},{8503,7583},{565,1398},{5504,103},{8036,7180},{803,3046},{7891,9023},{6563,2018},{9135,2018},{6350,3762},{1149,3893},{5263,1852},{7378,751},{1105,121},{5891,1073},{7811,9497},{5354,7275},{2371,3171},{6389,4279},{9585,1612},{179,26},{5384,4703},{3272,1779},{9379,1363},{3538,4626},{1728,7554},{5794,6973},{4684,4127},{3128,1281},{5787,9212},{3596,2536},{7887,7308},{4346,2977},{7593,9603},{3037,7429},{6508,4529},{4551,6242},{4615,2126},{7035,2836},{6090,940},{7335,5232},{5408,5535},{2186,3292},{7815,686},{2427,8533},{8566,8977},{5220,6328},{7066,6535},{4784,6535},{9531,9364},{1617,6972},{9428,4058},{9689,8146},{7779,413},{1688,7393},{1853,3302},{8495,9080},{1722,5504},{4439,1367},{9692,4020},{3220,1481},{9027,3334},{8103,1591},{3447,5917},{2623,7539},{4304,765},{2583,4091},{7232,5128},{5047,6078},{667,7663},{4812,2520},{6108,9051},{2893,8258},{8016,9514},{5830,8996},{6082,8493},{4077,1430},{5958,3876},{4697,5419},{8668,4382},{6818,9195},{2699,7221},{3227,5914},{3093,4029},{2598,5020},{7471,1610},{525,475},{6540,6340},{8327,3952},{8390,56},{6452,2568},{3794,3210},{7415,505},{8294,5244},{7898,2704},{5884,1063},{874,8487},{1405,5100},{7546,7390},{6248,4167},{7529,8760},{6482,404},{1860,883},{4136,7793},{2516,5439},{5531,1352},{4916,3748},{6455,9401},{2150,9124},{6602,8101},{50,9592},{2526,7138},{6053,5749},{2161,1211},{57,9399},{1125,5100},{3640,9377},{7931,7775},{4103,2729},{7554,5467},{4398,7563},{312,2185},{5830,5340},{6196,3839},{4238,5294},{3566,1453},{8958,3100},{6498,3043},{1002,1895},{724,5153},{2169,6337},{7745,5675},{7963,1268},{4030,8386},{4975,3114},{3192,6147},{407,5685},{2453,8056},{7384,9095},{1642,8011},{2085,2270},{857,3997},{6267,7060},{6902,5915},{1206,5132},{3848,8529},{4004,9959},{6393,66},{4861,2671},{6021,2365},{9739,8544},{6342,9269},{4276,5602},{6790,4469},{1289,3818},{4152,8823},{6661,7009},{6901,9580},{296,4272},{3691,3909},{8749,7449},{9103,2357},{5136,7201},{6366,5812},{4536,9465},{1202,8015},{6430,8176},{8362,4353},{5944,9995},{433,7451},{5829,6009},{3798,7338},{6278,1711},{511,9633},{416,6177},{9929,7407},{5750,5519},{5457,8390},{1396,7707},{4522,1026},{9976,5365},{5940,1595},{7899,4879},{1109,9884},{1279,3053},{8271,4281},{2590,2377},{7964,2019},{3161,1010},{8219,8881},{7640,7423},{1285,9315},{2469,8632},{7263,4084},{8555,9459},{6270,730},{8818,5029},{3333,3858},{4410,319},{7538,1491},{1542,4005},{5089,7095},{9730,5576},{8092,2624},{1668,3191},{6997,715},{2265,4803},{778,7010},{9716,5495},{476,4493},{5351,9611},{2503,3404},{5643,8905},{1795,9277},{7500,8827},{1152,7507},{4222,8375},{5081,7309},{2758,4493},{233,8686},{5056,473},{5387,6755},{7487,8237},{1713,7533},{1834,7868},{9501,103},{6753,566},{5607,4794},{6257,9625},{2976,7454},{5334,3009},{7291,5367},{1695,3375},{42,3035},{2354,4498},{9783,8871},{4468,6764},{3679,4393},{4594,8143},{2965,6391},{3531,6941},{4449,3862},{9775,6174},{172,5144},{6415,7026},{3409,9837},{784,9176},{2053,8361},{4547,3618},{5254,8522},{8092,623},{224,5233},{9955,6355},{6290,8287},{755,8861},{9498,2851},{9334,8385},{1664,3513},{4568,2415},{3476,9993},{177,9563},{4512,2678},{3233,931},{8710,151},{3062,520},{2752,5342},{9100,1143},{3456,2045},{149,2644},{24,3079},{5377,1872},{1825,5347},{243,4211},{3930,893},{9135,8424},{2346,6208},{5582,4637},{5903,2129},{1427,4300},{7161,9014},{2009,1649},{8243,1976},{8396,5330},{5237,4703},{7570,2610},{4172,2836},{8448,1487},{2016,7182},{5534,3240},{4985,3036},{1827,8610},{325,6624},{3339,7397},{729,914},{8619,3935},{6727,248},{383,881},{6647,5409},{1001,498},{9571,3586},{8154,5680},{2068,7257},{7546,799},{6101,1381},{9883,997},{1337,5475},{6819,8502},{4337,1411},{4467,5480},{7238,3654},{1292,6330},{7034,7688},{6841,918},{8525,1278},{4507,2204},{9684,7854},{6067,8739},{8325,6836},{6320,9732},{3026,7352},{1370,2774},{9804,5894},{7328,421},{2157,1760},{889,4328},{9523,9914},{9090,6346},{9977,512},{4630,7814},{3175,844},{7695,7203},{8734,6153},{6418,5798},{9911,1491},{3322,9565},{1047,541},{4955,314},{7703,5935},{5786,5005},{5649,4007},{48,8265},{483,4885},{915,184},{2635,4858},{1481,4190},{980,1257},{8539,3864},{3453,6432},{6667,9306},{2711,495},{5693,1508},{6861,1791},{9020,6259},{5296,1770},{6281,7651},{5993,5642},{7507,4810},{5857,6489},{1213,1169},{5085,3593},{3756,3239},{7464,1290},{8235,4867},{4580,3159},{5534,2570},{2993,825},{9320,8006},{6254,7401},{1839,7818},{2523,5457},{4573,5551},{1296,9485},{6664,1796},{2276,9531},{6348,184},{15,7571},{8033,1451},{9718,928},{5698,9244},{78,4644},{1143,4609},{7132,4282},{83,2122},{9014,8479},{1776,7199},{6822,7768},{4266,2128},{1314,5661},{3775,33},{2012,3589},{7478,7412},{5125,6438},{6629,8468},{9363,3077},{5777,1112},{5726,1157},{2398,478},{7513,4515},{393,8749},{5050,622},{8004,3699},{4843,5637},{7902,6861},{7027,2197},{4282,5947},{3799,6987},{1803,1558},{2071,803},{4242,7561},{5877,6611},{3819,6182},{8897,9324},{283,7119},{7968,8344},{9670,4534},{1829,1960},{9915,8833},{2540,1358},{4726,6646},{7334,6004},{787,5154},{4067,4110},{4019,2207},{5171,5137},{6308,6217},{8694,2636},{1473,3972},{992,6741},{5843,912},{6448,7611},{714,4663},{5808,1432},{8916,2011},{9441,2896},{7885,2367},{3452,25},{8709,4836},{2905,1566},{15,1017},{9553,2584},{5395,8131},{6053,1213},{4154,4754},{5907,3135},{4421,4941},{9270,4498},{2298,7012},{2602,2595},{3269,4221},{55,7027},{6465,7001},{3065,223},{5565,8320},{9582,3334},{9834,4559},{9494,8829},{3524,5084},{7787,3582},{1826,8336},{7047,5019},{7560,1322},{1961,2685},{4719,2215},{3847,9777},{1949,2500},{4386,6001},{3970,6618},{5274,2755},{8609,6514},{5172,9932},{9042,6377},{8568,6471},{2606,8045},{8664,953},{1111,3907},{4695,1077},{9201,246},{1289,9976},{8352,9883},{6570,2622},{1068,7297},{4294,3421},{4563,4039},{9705,695},{4411,2343},{6148,5632},{9773,2122},{8466,3937},{4729,3773},{6139,8309},{1505,283},{753,542},{1470,8246},{6232,682},{4671,6923},{2966,4461},{3233,4782},{5513,9737},{1265,7881},{199,4344},{6451,5147},{1202,5533},{3255,4154},{7943,1640},{2253,7235},{8916,5364},{3106,5208},{3121,2329},{1652,5031},{6847,4392},{5636,9829},{5615,6447},{4656,8699},{2711,1825},{9312,2332},{8604,4005},{7651,7457},{4754,8039},{3553,6294},{9142,9791},{4111,9425},{4851,1193},{3976,8268},{4302,1779},{8953,9581},{1101,8362},{5105,2367},{5581,7048},{7605,3558},{7579,4494},{7596,358},{162,2359},{1195,5335},{3089,2828},{4862,8722},{7172,4316},{6145,3089},{9154,6849},{5057,2639},{6140,4866},{6593,3731},{4270,5551},{9552,7827},{7212,3464},{9104,328},{1356,8024},{60,9376},{5731,6554},{9636,830},{4708,8203},{5685,7188},{5807,3617},{8412,5286},{3989,8371},{4513,6818},{6858,7749},{8643,6829},{3108,1422},{8880,9339},{6264,834},{7921,6382},{3699,2384},{6472,4854},{3391,7310},{8443,8173},{9714,9799},{2203,1809},{6918,8374},{3788,6764},{8139,7866},{1979,6340},{5475,7242},{2312,9514},{2194,9756},{1451,1717},{2450,7295},{7968,6941},{3556,3499},{2969,7794},{616,5674},{4022,2003},{5720,2104},{9354,2633},{7619,2049},{9931,5373},{9893,8128},{977,7654},{2849,1566},{828,464},{9430,6789},{6239,3448},{4098,4314},{4223,9153},{8623,9538},{7841,3447},{5634,7452},{6390,106},{8031,6034},{6359,7862},{3577,2868},{3262,9554},{9495,126},{9835,8060},{2812,4676},{313,2532},{408,3132},{92,4648},{3453,6369},{2482,9976},{2321,6189},{2403,211},{9923,9816},{4350,2787},{5565,5194},{4399,8843},{7501,8332},{4096,9209},{16,2430},{9709,3663},{2439,5336},{8142,6182},{273,2745},{4370,724},{5787,5835},{1201,5906},{7640,7922},{5411,5844},{587,3811},{6335,2029},{6340,7833},{8553,311},{9083,9698},{7591,2018},{3796,792},{4345,3220},{2686,661},{8962,6965},{895,6939},{2958,675},{8747,7238},{1135,732},{9239,1840},{5663,2190},{9405,9683},{7323,5741},{7073,7589},{3797,703},{724,731},{4232,2843},{5510,8388},{5142,5602},{7388,7217},{3509,3637},{7748,3077},{6847,4979},{4043,2242},{7803,3711},{3249,7882},{5871,6206},{2428,4287},{1533,991},{3158,8048},{6584,2605},{163,7170},{15,45},{2819,6090},{8955,6393},{5113,6299},{5581,6751},{8585,955},{7027,1934},{2018,2393},{2682,533},{2994,9110},{5414,5226},{7216,3458},{1001,4459},{5239,3911},{1760,3479},{6520,638},{8345,7795},{8447,9327},{7139,5171},{1581,2580},{9917,8573},{3770,7653},{7246,7418},{8420,3119},{2596,744},{8247,6326},{2347,378},{7370,3054},{4710,4855},{3880,8039},{6439,9398},{1697,1879},{4243,6864},{6515,1882},{8155,5898},{7479,6690},{4151,5984},{1749,2183},{9085,7215},{1224,5536},{5027,1128},{833,9221},{7113,7459},{2876,21},{1391,5650},{9567,4355},{2117,8732},{7563,8595},{7283,3431},{4697,2968},{805,1921},{3035,9992},{1689,8332},{2140,6649},{1272,3230},{5255,6130},{9199,8252},{7018,6037},{3468,260},{2352,8495},{2991,3638},{1314,4518}};
    cout<<removeStones(testcase)<<endl;
    return 0;
}